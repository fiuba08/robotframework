*** Settings ***
Suite Setup       Run Tests    ${EMPTY}    running/exit_for_loop.txt
Force Tags        regression
Default Tags      pybot    jybot
Resource          atest_resource.txt

*** Test Cases ***
Simple Exit For Loop
    Test And All Keywords Should Have Passed

Exit For Loop In `Run Keyword`
    Test And All Keywords Should Have Passed

Exit For Loop In User Keyword
    Test And All Keywords Should Have Passed

Exit For Loop In User Keyword With Loop
    Test And All Keywords Should Have Passed

Exit For Loop In User Keyword With Loop Within Loop
    Test And All Keywords Should Have Passed

Exit For Loop In User Keyword Calling User Keyword With Exit For Loop
    Test And All Keywords Should Have Passed

Exit For Loop Without For Loop Should Fail
    Check Test Case    ${TESTNAME}

Exit For Loop In User Keyword Without For Loop Should Fail
    Check Test Case    ${TESTNAME}

Exit For Loop Keyword Should Have No Messages
    ${tc} =    Check Test Case    Simple Exit For Loop
    Should Be Equal    ${tc.kws[0].kws[0].kws[0].name}    BuiltIn.Exit For Loop
    Should Be Empty    ${tc.kws[0].kws[0].kws[0].msgs}

Custom Exception with ROBOT_EXIT_FOR_LOOP Works But Is Deprecated
    Prints Deprecation Warning
    Test And All Keywords Should Have Passed

Custom Java Exception with ROBOT_EXIT_FOR_LOOP Works But Is Deprecated
    [Tags]    jybot
    Prints Deprecation Warning
    Test And All Keywords Should Have Passed

Exit For Loop In Test Teardown
    Test And All Keywords Should Have Passed

Exit For Loop In Keyword Teardown
    Test And All Keywords Should Have Passed

Exit For Loop If True
    Check Test Case    ${TESTNAME}

Exit For Loop If False
    Check Test Case    ${TESTNAME}

With Continuable Failure
    Check Test Case    ${TESTNAME}


*** Keyword ***
Prints Deprecation Warning
    ${message}=   Set Variable   Using ROBOT_EXIT_FOR_LOOP is deprecated in 2.8.
    Check Log Message  ${ERRORS[1]}   ${message}  WARN
